<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Computer Network 4 | Introduction to Routing, Link State, Distance Vector, RIP, OSPF, Hot Potato Routing &mdash; serenefield-sphinx  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/style.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Computer Network 5 | Distance Vector Implementation" href="note5.html" />
    <link rel="prev" title="Computer Network 3 | Spanning Tree Protocol Implementation" href="note3.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            serenefield-sphinx
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">DevOps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../devops/index.html">‚õ¥Ô∏è  Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devops/index.html#ckad">‚ò∏Ô∏è  CKAD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devops/index.html#apache-solr">ü•ê  Apache Solr</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Japanese</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Jap/index.html">üèØ  N5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Jap/index.html#n4">üèØ  N4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Jap/index.html#n3">üèØ  N3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Jap/index.html#n2">üèØ  N2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Jap/index.html#n1">üèØ  N1</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guitar</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Guitar/index.html">üé∏  Level 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Guitar/index.html#level-2">üé∏  Level 2</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">OMSCS</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">üíª  Computer Network</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="note1.html">Computer Network 1ÔΩúIntroduction to Computer Network, OSI Model, Principles, and Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="note2.html">Computer Network 2 | Introduction to Transport Layer, UDP and TCP, Congestion Control, Fairness</a></li>
<li class="toctree-l2"><a class="reference internal" href="note3.html">Computer Network 3 | Spanning Tree Protocol Implementation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Computer Network 4 | Introduction to Routing, Link State, Distance Vector, RIP, OSPF, Hot Potato Routing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction-to-routing">1. Introduction to Routing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#forwarding">(1) Forwarding</a></li>
<li class="toctree-l4"><a class="reference internal" href="#routing">(2) Routing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#intradomain-routing-vs-interdomain-routing">(3) Intradomain Routing Vs. Interdomain Routing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#intradomain-routing-algorithms">2. Intradomain Routing Algorithms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction-to-intradomain-routing-algorithms">(1) Introduction to Intradomain Routing Algorithms</a></li>
<li class="toctree-l4"><a class="reference internal" href="#link-state-routing-dijkstras-algorithm">(2) Link-State Routing: Dijkstra‚Äôs algorithm</a></li>
<li class="toctree-l4"><a class="reference internal" href="#link-state-routing-algorithm-computational-complexity">(3) Link-State Routing Algorithm Computational Complexity</a></li>
<li class="toctree-l4"><a class="reference internal" href="#distance-vector-routing-bellman-ford-algorithm">(4) Distance Vector Routing: Bellman Ford Algorithm</a></li>
<li class="toctree-l4"><a class="reference internal" href="#link-cost-decrease-in-dv-routing">(5) Link Cost Decrease in DV Routing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#count-to-infinity-problem-link-cost-increase-in-dv-routing">(6) Count-to-Infinity Problem: Link Cost Increase in DV Routing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#poison-reverse">(7) Poison Reverse</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#routing-algorithm-applications">3. Routing Algorithm Applications</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dv-routing-application-router-information-protocol-rip">(1) DV Routing Application: Router Information Protocol (RIP)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#link-state-routing-application-open-shortest-path-first-ospf">(2) Link-State Routing Application: Open Shortest Path First (OSPF)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hot-potato-routing">(3) Hot Potato Routing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="note5.html">Computer Network 5 | Distance Vector Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="note6.html">Computer Network 6 | Introduction to Autonomous Systems, BGP Routing, and Peering Through IXPs</a></li>
<li class="toctree-l2"><a class="reference internal" href="note7.html">Computer Network 7 ÔΩú Implement MiniNet</a></li>
<li class="toctree-l2"><a class="reference internal" href="note8.html">Computer Network 8 | Introduction to Routers and Prefix Match</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../index.html#high-performance-computing">üíª  High Performance Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index.html#information-security">üíª  Information Security</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Arts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Arts/index.html">üñºÔ∏è  Drawing - Perspective</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Arts/index.html#blender-basic">üßä  Blender - Basic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Arts/index.html#blender-anime">üé•  Blender - Anime</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tests</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tests/index.html">üß™  Sphinx Tests</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">serenefield-sphinx</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">üíª  Computer Network</a></li>
      <li class="breadcrumb-item active">Computer Network 4 | Introduction to Routing, Link State, Distance Vector, RIP, OSPF, Hot Potato Routing</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/OMSCS/CN/note4.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="computer-network-4-introduction-to-routing-link-state-distance-vector-rip-ospf-hot-potato-routing">
<h1>Computer Network 4 | Introduction to Routing, Link State, Distance Vector, RIP, OSPF, Hot Potato Routing<a class="headerlink" href="#computer-network-4-introduction-to-routing-link-state-distance-vector-rip-ospf-hot-potato-routing" title="Permalink to this heading">ÔÉÅ</a></h1>
<section id="introduction-to-routing">
<h2>1. Introduction to Routing<a class="headerlink" href="#introduction-to-routing" title="Permalink to this heading">ÔÉÅ</a></h2>
<section id="forwarding">
<h3>(1) Forwarding<a class="headerlink" href="#forwarding" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>By <strong>forwarding</strong> we refer to transferring a packet from an incoming link to an outgoing link within a single router. The router is responsible to consult a <strong>forwarding table</strong> and then to determine the outgoinglink interface within a single router.</p>
</section>
<section id="routing">
<h3>(2) Routing<a class="headerlink" href="#routing" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>By <strong>routing</strong> we refer to how routers work together using routing protocols to determine the good paths (or good routes as we call them) over which the packets travel from the source to the destination node.</p>
</section>
<section id="intradomain-routing-vs-interdomain-routing">
<h3>(3) Intradomain Routing Vs. Interdomain Routing<a class="headerlink" href="#intradomain-routing-vs-interdomain-routing" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>When we have routers that belong to the same administrative domain we refer to the routing that takes place as <strong>intradomain routing</strong>.</p>
<p>But when the routers belong to different administrative domains, we refer to <strong>interdomain routing</strong>.</p>
</section>
</section>
<section id="intradomain-routing-algorithms">
<h2>2. Intradomain Routing Algorithms<a class="headerlink" href="#intradomain-routing-algorithms" title="Permalink to this heading">ÔÉÅ</a></h2>
<section id="introduction-to-intradomain-routing-algorithms">
<h3>(1) Introduction to Intradomain Routing Algorithms<a class="headerlink" href="#introduction-to-intradomain-routing-algorithms" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>There are two major class of the intradomain routing algorithms,</p>
<ul class="simple">
<li><p>Link State: OSPF and IS-IS</p></li>
<li><p>Distance Vector: ARPANET and RIP</p></li>
</ul>
<p>In those algorithms, we represent each router as a <strong>node</strong> and a link between two routers as an <strong>edge</strong>. Each edge is associated with a cost.</p>
</section>
<section id="link-state-routing-dijkstras-algorithm">
<h3>(2) Link-State Routing: Dijkstra‚Äôs algorithm<a class="headerlink" href="#link-state-routing-dijkstras-algorithm" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Dijkstra‚Äôs algorithm is designed to solve the problem of finding the least cost path when the link costs and the network topology are known to all the nodes.</p>
<p>In the link-state routing protocol, we have the following terminologies,</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">u</span></code>: the source node or the first-hop router</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v</span></code>: every rest of the nodes in the network</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">D[v]</span></code>: the cost of the current least cost path from the source to the node <code class="docutils literal notranslate"><span class="pre">v</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p[v]</span></code>: the previous node to go in the network</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">N</span></code>: the set of all the nodes in the network</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">N_</span></code>: a subset of <code class="docutils literal notranslate"><span class="pre">N</span></code></p></li>
</ul>
<p>Here‚Äôs the pseudocode of the Dijkstra‚Äôs algorithm,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">dijkstra</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">N</span><span class="p">):</span>

    <span class="c1"># Initialization</span>
    
    <span class="n">D</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">p</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">N_</span> <span class="o">=</span> <span class="p">[</span><span class="n">u</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">each</span> <span class="n">v</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">neighbor</span> <span class="n">of</span> <span class="n">u</span><span class="p">:</span>
            <span class="n">D</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
            <span class="n">p</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="n">u</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">D</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="n">inf</span>
            
    <span class="c1"># Iterations</span>
    
    <span class="n">While</span> <span class="n">N_</span> <span class="o">!=</span> <span class="n">N</span><span class="p">:</span>
        
        <span class="k">for</span> <span class="n">each</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">N</span> <span class="ow">and</span> <span class="n">w</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">N_</span><span class="p">:</span>
            <span class="n">find</span> <span class="n">w</span> <span class="k">with</span> <span class="n">least</span> <span class="n">D</span><span class="p">[</span><span class="n">w</span><span class="p">]</span>
        
        <span class="n">add</span> <span class="n">w</span> <span class="n">to</span> <span class="n">N_</span>
        
        <span class="k">for</span> <span class="n">each</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">N</span> <span class="ow">and</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">N_</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">neighbor</span> <span class="n">of</span> <span class="n">w</span><span class="p">:</span>
                <span class="n">D</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">D</span><span class="p">[</span><span class="n">v</span><span class="p">],</span> <span class="n">D</span><span class="p">[</span><span class="n">W</span><span class="p">]</span> <span class="o">+</span> <span class="n">Cost</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">w</span><span class="p">))</span>
                <span class="n">p</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="n">w</span>
                
    <span class="k">return</span> <span class="n">D</span><span class="p">,</span> <span class="n">p</span>
</pre></div>
</div>
<p>Now, let‚Äôs use an example to see how it works. Suppose we have the following cost function with 6 nodes <code class="docutils literal notranslate"><span class="pre">u/v/w/x/y/z</span></code>,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">Cost</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
        
    <span class="k">if</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">u</span><span class="p">,</span> <span class="n">w</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">u</span><span class="p">,</span> <span class="n">w</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">5</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">v</span><span class="p">,</span> <span class="n">w</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">v</span><span class="p">,</span> <span class="n">w</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">3</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">w</span><span class="p">,</span> <span class="n">z</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">w</span><span class="p">,</span> <span class="n">z</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">5</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">u</span><span class="p">,</span> <span class="n">x</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">u</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">v</span><span class="p">,</span> <span class="n">x</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">v</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">x</span><span class="p">,</span> <span class="n">w</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">x</span><span class="p">,</span> <span class="n">w</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">3</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">w</span><span class="p">,</span> <span class="n">y</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">w</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">2</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span> <span class="s2">&quot;Not neighbor&quot;</span>
        <span class="k">return</span> <span class="n">inf</span>
</pre></div>
</div>
<p>Then if the source node is <code class="docutils literal notranslate"><span class="pre">u</span></code>, let‚Äôs see how Dijkstra‚Äôs algorithm works.</p>
<ul class="simple">
<li><p>After initialization,</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">D</span> <span class="o">=</span> <span class="p">{</span> <span class="n">v</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="n">w</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> 
      <span class="n">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="n">y</span><span class="p">:</span> <span class="n">inf</span><span class="p">,</span>
      <span class="n">z</span><span class="p">:</span> <span class="n">inf</span> <span class="p">}</span>
      
<span class="n">p</span> <span class="o">=</span> <span class="p">{</span> <span class="n">v</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
      <span class="n">w</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span> 
      <span class="n">x</span><span class="p">:</span> <span class="n">u</span> <span class="p">}</span>
      
<span class="n">N_</span> <span class="o">=</span> <span class="p">[</span><span class="n">u</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>In the first iteration, we select the next node <code class="docutils literal notranslate"><span class="pre">x</span></code> because <code class="docutils literal notranslate"><span class="pre">D[x]</span></code> is the least cost path. So,</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">D</span> <span class="o">=</span> <span class="p">{</span> <span class="n">v</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="n">w</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> 
      <span class="n">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="n">y</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="n">z</span><span class="p">:</span> <span class="n">inf</span> <span class="p">}</span>
      
<span class="n">p</span> <span class="o">=</span> <span class="p">{</span> <span class="n">v</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
      <span class="n">w</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span> 
      <span class="n">x</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
      <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="p">}</span>
      
<span class="n">N_</span> <span class="o">=</span> <span class="p">[</span><span class="n">u</span><span class="p">,</span> <span class="n">x</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>In the 2nd iteration, we can choose either <code class="docutils literal notranslate"><span class="pre">v</span></code> or <code class="docutils literal notranslate"><span class="pre">y</span></code> as the next node. Here we just choose <code class="docutils literal notranslate"><span class="pre">y</span></code> as the next node and you will get the same final result if you choose <code class="docutils literal notranslate"><span class="pre">v</span></code> in this step.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">D</span> <span class="o">=</span> <span class="p">{</span> <span class="n">v</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="n">w</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> 
      <span class="n">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="n">y</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="n">z</span><span class="p">:</span> <span class="mi">4</span> <span class="p">}</span>
      
<span class="n">p</span> <span class="o">=</span> <span class="p">{</span> <span class="n">v</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
      <span class="n">w</span><span class="p">:</span> <span class="n">y</span><span class="p">,</span> 
      <span class="n">x</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
      <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span>
      <span class="n">z</span><span class="p">:</span> <span class="n">y</span> <span class="p">}</span>
      
<span class="n">N_</span> <span class="o">=</span> <span class="p">[</span><span class="n">u</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>In the 3rd iteration, will select <code class="docutils literal notranslate"><span class="pre">v</span></code> because <code class="docutils literal notranslate"><span class="pre">D[v]</span></code> is now the least and <code class="docutils literal notranslate"><span class="pre">v</span></code> is not in <code class="docutils literal notranslate"><span class="pre">N_</span></code>,</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">D</span> <span class="o">=</span> <span class="p">{</span> <span class="n">v</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="n">w</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> 
      <span class="n">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="n">y</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="n">z</span><span class="p">:</span> <span class="mi">4</span> <span class="p">}</span>
      
<span class="n">p</span> <span class="o">=</span> <span class="p">{</span> <span class="n">v</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
      <span class="n">w</span><span class="p">:</span> <span class="n">y</span><span class="p">,</span> 
      <span class="n">x</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
      <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span>
      <span class="n">z</span><span class="p">:</span> <span class="n">y</span> <span class="p">}</span>
      
<span class="n">N_</span> <span class="o">=</span> <span class="p">[</span><span class="n">u</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">v</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Finally, in the last iteration, we select the last node <code class="docutils literal notranslate"><span class="pre">z</span></code> and put it into the set <code class="docutils literal notranslate"><span class="pre">N_</span></code>. Now we are able to break the loop and return <code class="docutils literal notranslate"><span class="pre">D</span></code> and <code class="docutils literal notranslate"><span class="pre">p</span></code> as our result. So,</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">D</span> <span class="o">=</span> <span class="p">{</span> <span class="n">v</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="n">w</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> 
      <span class="n">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="n">y</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="n">z</span><span class="p">:</span> <span class="mi">4</span> <span class="p">}</span>
      
<span class="n">p</span> <span class="o">=</span> <span class="p">{</span> <span class="n">v</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
      <span class="n">w</span><span class="p">:</span> <span class="n">y</span><span class="p">,</span> 
      <span class="n">x</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
      <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span>
      <span class="n">z</span><span class="p">:</span> <span class="n">y</span> <span class="p">}</span>
</pre></div>
</div>
<p>Let‚Äôs finally see how we can find a shortest path from two nodes. Suppose the source is node <code class="docutils literal notranslate"><span class="pre">u</span></code> and the destination is node <code class="docutils literal notranslate"><span class="pre">z</span></code>. Then the path is,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">u</span> <span class="o">-&gt;</span> <span class="n">p</span><span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="n">z</span><span class="p">]]]</span> <span class="o">-&gt;</span> <span class="n">p</span><span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="n">z</span><span class="p">]]</span> <span class="o">-&gt;</span> <span class="n">p</span><span class="p">[</span><span class="n">z</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">z</span>
</pre></div>
</div>
<p>So,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">u</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">w</span> <span class="o">-&gt;</span> <span class="n">y</span> <span class="o">-&gt;</span> <span class="n">z</span>
</pre></div>
</div>
<p>And the total distance is,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">D</span><span class="p">[</span><span class="n">z</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
</pre></div>
</div>
</section>
<section id="link-state-routing-algorithm-computational-complexity">
<h3>(3) Link-State Routing Algorithm Computational Complexity<a class="headerlink" href="#link-state-routing-algorithm-computational-complexity" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>In the worst case, each node is a neighbor of the others so we have to search every rest of the nodes in each iteration. In this case, suppose we have <code class="docutils literal notranslate"><span class="pre">n</span></code> nodes,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Total</span> <span class="n">iterations</span> <span class="o">=</span> <span class="n">n</span> <span class="o">+</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="o">...</span> <span class="o">+</span> <span class="mi">1</span>
                 <span class="o">=</span> <span class="n">n</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
                 <span class="o">=</span> <span class="n">O</span><span class="p">(</span><span class="n">n</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="distance-vector-routing-bellman-ford-algorithm">
<h3>(4) Distance Vector Routing: Bellman Ford Algorithm<a class="headerlink" href="#distance-vector-routing-bellman-ford-algorithm" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Bellman Ford algorithm is used to solve the shortest path problem when the nodes are not awared of the whole network topology. It has the following properties,</p>
<ul class="simple">
<li><p>iterative: it keeps iterating until the neighbors do not have new updates sent</p></li>
<li><p>asynchronous: does not require the nodes to be synchronized with each other</p></li>
<li><p>distributed: the routing calculations are not happening in a centralized manner</p></li>
</ul>
<p>In the distance vector routing protocol, we have the following terminologies,</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: the current node or the node we look into</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v</span></code>: every rest of the nodes in the network</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Dx[v]</span></code>: the cost of the current least cost path from the current node to the node <code class="docutils literal notranslate"><span class="pre">v</span></code>. <code class="docutils literal notranslate"><span class="pre">Dx</span></code> is called the <strong>distance vector</strong> of node <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">N</span></code>: the set of all the nodes in the network</p></li>
</ul>
<p>So the pseudocode for this algorithm is,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">bellmanford</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">N</span><span class="p">):</span>
    
    <span class="c1"># Initialization</span>
    <span class="k">for</span> <span class="n">each</span> <span class="n">node</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">N</span> <span class="k">except</span> <span class="k">for</span> <span class="n">x</span><span class="p">:</span>
        <span class="n">Dx</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="n">Cost</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        
    <span class="k">for</span> <span class="n">each</span> <span class="n">neighbor</span> <span class="n">w</span> <span class="n">of</span> <span class="n">x</span><span class="p">:</span>
        <span class="n">Dw</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">inf</span>
        <span class="n">send</span><span class="p">(</span><span class="n">Dx</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>    <span class="c1"># send distance vector Dx to w</span>
        
    <span class="c1"># Iterations</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">no</span> <span class="n">distance</span> <span class="n">vectors</span> <span class="n">received</span> <span class="kn">from</span> <span class="nn">neighbors</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">no</span> <span class="n">change</span> <span class="n">on</span> <span class="n">the</span> <span class="n">Cost</span> <span class="n">function</span><span class="p">):</span>
            <span class="k">continue</span>
            
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">each</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">N</span> <span class="k">except</span> <span class="k">for</span> <span class="n">x</span><span class="p">:</span>
                <span class="n">update</span> <span class="n">Dx</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="nb">min</span><span class="p">{</span><span class="n">Cost</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dv</span><span class="p">(</span><span class="n">y</span><span class="p">)}</span>
        
            <span class="k">if</span> <span class="n">Dx</span> <span class="n">changed</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">each</span> <span class="n">neighbor</span> <span class="n">w</span> <span class="n">of</span> <span class="n">x</span><span class="p">:</span>
                    <span class="n">send</span><span class="p">(</span><span class="n">Dx</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>
</pre></div>
</div>
<p>Then let‚Äôs see a simliar example to the one above. Suppose we have the cost function the same as,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">Cost</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    
    <span class="k">if</span> <span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    
    <span class="k">if</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">u</span><span class="p">,</span> <span class="n">w</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">u</span><span class="p">,</span> <span class="n">w</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">5</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">v</span><span class="p">,</span> <span class="n">w</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">v</span><span class="p">,</span> <span class="n">w</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">3</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">w</span><span class="p">,</span> <span class="n">z</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">w</span><span class="p">,</span> <span class="n">z</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">5</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">u</span><span class="p">,</span> <span class="n">x</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">u</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">v</span><span class="p">,</span> <span class="n">x</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">v</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">2</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">x</span><span class="p">,</span> <span class="n">w</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">x</span><span class="p">,</span> <span class="n">w</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">3</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">w</span><span class="p">,</span> <span class="n">y</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">w</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="ow">and</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">2</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span> <span class="s2">&quot;Not neighbor&quot;</span>
        <span class="k">return</span> <span class="n">inf</span>
</pre></div>
</div>
<p>Suppose <code class="docutils literal notranslate"><span class="pre">u</span></code> is the current node we look into. Then after initialization, we will have,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Du</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">u</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">v</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">w</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">y</span><span class="p">:</span> <span class="n">inf</span><span class="p">,</span>
    <span class="n">z</span><span class="p">:</span> <span class="n">inf</span>
<span class="p">}</span>

<span class="n">D_others</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">u</span><span class="p">:</span> <span class="n">inf</span><span class="p">,</span>
    <span class="n">v</span><span class="p">:</span> <span class="n">inf</span><span class="p">,</span>
    <span class="n">w</span><span class="p">:</span> <span class="n">inf</span><span class="p">,</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">inf</span><span class="p">,</span>
    <span class="n">y</span><span class="p">:</span> <span class="n">inf</span><span class="p">,</span>
    <span class="n">z</span><span class="p">:</span> <span class="n">inf</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Node <code class="docutils literal notranslate"><span class="pre">u</span></code> sends <code class="docutils literal notranslate"><span class="pre">Du</span></code> to its neoghbors and it will also receive the initial distance vector <code class="docutils literal notranslate"><span class="pre">Dv</span></code>, <code class="docutils literal notranslate"><span class="pre">Dw</span></code>, and <code class="docutils literal notranslate"><span class="pre">Dx</span></code> from its neighbor <code class="docutils literal notranslate"><span class="pre">v</span></code>, <code class="docutils literal notranslate"><span class="pre">w</span></code>, and <code class="docutils literal notranslate"><span class="pre">x</span></code>. So in the first iteration, the node <code class="docutils literal notranslate"><span class="pre">u</span></code> has the following information,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Du</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">u</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">v</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">w</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">y</span><span class="p">:</span> <span class="n">inf</span><span class="p">,</span>
    <span class="n">z</span><span class="p">:</span> <span class="n">inf</span>
<span class="p">}</span>

<span class="n">Dv</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">u</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">v</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">w</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">x</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">y</span><span class="p">:</span> <span class="n">inf</span><span class="p">,</span>
    <span class="n">z</span><span class="p">:</span> <span class="n">inf</span>
<span class="p">}</span>

<span class="n">Dw</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">u</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">v</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">w</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">x</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">y</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">z</span><span class="p">:</span> <span class="mi">5</span>
<span class="p">}</span>

<span class="n">Dx</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">u</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">v</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">w</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">y</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">z</span><span class="p">:</span> <span class="n">inf</span>
<span class="p">}</span>

<span class="n">D_others</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">u</span><span class="p">:</span> <span class="n">inf</span><span class="p">,</span>
    <span class="n">v</span><span class="p">:</span> <span class="n">inf</span><span class="p">,</span>
    <span class="n">w</span><span class="p">:</span> <span class="n">inf</span><span class="p">,</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">inf</span><span class="p">,</span>
    <span class="n">y</span><span class="p">:</span> <span class="n">inf</span><span class="p">,</span>
    <span class="n">z</span><span class="p">:</span> <span class="n">inf</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then in the first iteration, <code class="docutils literal notranslate"><span class="pre">Du</span></code> will be updated by <code class="docutils literal notranslate"><span class="pre">Du(y)</span> <span class="pre">=</span> <span class="pre">min{Du(v)</span> <span class="pre">+</span> <span class="pre">Dv(y)}</span></code> based on <code class="docutils literal notranslate"><span class="pre">Dv</span></code>, <code class="docutils literal notranslate"><span class="pre">Dw</span></code>, and <code class="docutils literal notranslate"><span class="pre">Dx</span></code>. So,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Du</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">Du</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">{</span><span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">u</span><span class="p">)</span> <span class="o">+</span> <span class="n">Du</span><span class="p">[</span><span class="n">v</span><span class="p">],</span> 
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dv</span><span class="p">[</span><span class="n">v</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dw</span><span class="p">[</span><span class="n">v</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dx</span><span class="p">[</span><span class="n">v</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dy</span><span class="p">[</span><span class="n">v</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dz</span><span class="p">[</span><span class="n">v</span><span class="p">]</span>
            <span class="p">}</span> <span class="o">=</span> <span class="nb">min</span><span class="p">{</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="n">inf</span><span class="p">}</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">Du</span><span class="p">[</span><span class="n">w</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">{</span><span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">u</span><span class="p">)</span> <span class="o">+</span> <span class="n">Du</span><span class="p">[</span><span class="n">w</span><span class="p">],</span> 
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dv</span><span class="p">[</span><span class="n">w</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dw</span><span class="p">[</span><span class="n">w</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dx</span><span class="p">[</span><span class="n">w</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dy</span><span class="p">[</span><span class="n">w</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dz</span><span class="p">[</span><span class="n">wx</span>
            <span class="p">}</span> <span class="o">=</span> <span class="nb">min</span><span class="p">{</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="n">inf</span><span class="p">}</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">Du</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">{</span><span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">u</span><span class="p">)</span> <span class="o">+</span> <span class="n">Du</span><span class="p">[</span><span class="n">x</span><span class="p">],</span> 
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dv</span><span class="p">[</span><span class="n">x</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dw</span><span class="p">[</span><span class="n">x</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dx</span><span class="p">[</span><span class="n">x</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dy</span><span class="p">[</span><span class="n">x</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dz</span><span class="p">[</span><span class="n">x</span><span class="p">]</span>
            <span class="p">}</span> <span class="o">=</span> <span class="nb">min</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="n">inf</span><span class="p">}</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">Du</span><span class="p">[</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">{</span><span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">u</span><span class="p">)</span> <span class="o">+</span> <span class="n">Du</span><span class="p">[</span><span class="n">y</span><span class="p">],</span> 
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dv</span><span class="p">[</span><span class="n">y</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dw</span><span class="p">[</span><span class="n">y</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dx</span><span class="p">[</span><span class="n">y</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dy</span><span class="p">[</span><span class="n">y</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dz</span><span class="p">[</span><span class="n">y</span><span class="p">]</span>
            <span class="p">}</span> <span class="o">=</span> <span class="nb">min</span><span class="p">{</span><span class="n">inf</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="n">inf</span><span class="p">}</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">Du</span><span class="p">[</span><span class="n">z</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">{</span><span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">u</span><span class="p">)</span> <span class="o">+</span> <span class="n">Du</span><span class="p">[</span><span class="n">z</span><span class="p">],</span> 
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dv</span><span class="p">[</span><span class="n">z</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dw</span><span class="p">[</span><span class="n">z</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dx</span><span class="p">[</span><span class="n">z</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dy</span><span class="p">[</span><span class="n">z</span><span class="p">],</span>
            <span class="n">Cost</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span> <span class="o">+</span> <span class="n">Dz</span><span class="p">[</span><span class="n">z</span><span class="p">]</span>
            <span class="p">}</span> <span class="o">=</span> <span class="nb">min</span><span class="p">{</span><span class="n">inf</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="n">inf</span><span class="p">}</span> <span class="o">=</span> <span class="mi">10</span>
</pre></div>
</div>
<p>Therefore, after the first iteration, <code class="docutils literal notranslate"><span class="pre">Du</span></code> will be,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Du</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">u</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">v</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">w</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="n">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">y</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">z</span><span class="p">:</span> <span class="mi">10</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then node <code class="docutils literal notranslate"><span class="pre">u</span></code> will send this distance vector <code class="docutils literal notranslate"><span class="pre">Du</span></code> to all its neighbors.</p>
<p>The other iterations will continue the process like this whenever it receives an updated distance vector from its neighbor. As time goes by, <code class="docutils literal notranslate"><span class="pre">Du</span></code> will converge to the least cost of paths.</p>
</section>
<section id="link-cost-decrease-in-dv-routing">
<h3>(5) Link Cost Decrease in DV Routing<a class="headerlink" href="#link-cost-decrease-in-dv-routing" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Now, let‚Äôs see how the change in link costs impacts the DV routing. Let‚Äôs first look into a single link cost decreasement.</p>
<p>After the <code class="docutils literal notranslate"><span class="pre">Cost()</span></code> function change, the node link to that edge will detect it and its distance vector will be update to the new decreased value.</p>
<p>Let‚Äôs see an example. Suppose we have the following cost function,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">Cost</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    
    <span class="k">if</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">or</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">4</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="ow">or</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">==</span> <span class="n">x</span><span class="p">,</span> <span class="n">z</span> <span class="ow">or</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">==</span> <span class="n">x</span><span class="p">,</span> <span class="n">z</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">50</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">inf</span>
</pre></div>
</div>
<p>Then at the balance point, we have,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Dx</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">Dy</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">Dz</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>When there‚Äôs a sudden decrease of the cost of edge <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">-</span> <span class="pre">y</span></code> from <code class="docutils literal notranslate"><span class="pre">4</span></code> to <code class="docutils literal notranslate"><span class="pre">1</span></code>, then,</p>
<ul>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">Dx</span> <span class="pre">=</span> <span class="pre">[0,</span> <span class="pre">min{1,</span> <span class="pre">51},</span> <span class="pre">min{5,</span> <span class="pre">50}]</span> <span class="pre">=</span> <span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">5]</span></code></p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">Dy</span> <span class="pre">=</span> <span class="pre">[min{1,</span> <span class="pre">6},</span> <span class="pre">0,</span> <span class="pre">min{6,</span> <span class="pre">1}]</span> <span class="pre">=</span> <span class="pre">[1,</span> <span class="pre">0,</span> <span class="pre">1]</span></code></p></li>
<li><p>Send new <code class="docutils literal notranslate"><span class="pre">Dx</span></code> and <code class="docutils literal notranslate"><span class="pre">Dy</span></code> to neighbors</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">z</span></code> receives <code class="docutils literal notranslate"><span class="pre">Dx</span></code> and <code class="docutils literal notranslate"><span class="pre">Dy</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Dz</span> <span class="o">=</span> <span class="p">[</span><span class="nb">min</span><span class="p">{</span><span class="mi">50</span><span class="p">,</span> <span class="mi">2</span><span class="p">},</span> <span class="nb">min</span><span class="p">{</span><span class="mi">51</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">x</span></code> receives <code class="docutils literal notranslate"><span class="pre">Dy</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Dx</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">51</span><span class="p">},</span> <span class="nb">min</span><span class="p">{</span><span class="mi">2</span><span class="p">,</span> <span class="mi">50</span><span class="p">}]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
<p>In this scenario, we note that the fact that when there was a decrease in the link cost, it propagated quickly among the node as it only took a few iterations.</p>
</section>
<section id="count-to-infinity-problem-link-cost-increase-in-dv-routing">
<h3>(6) Count-to-Infinity Problem: Link Cost Increase in DV Routing<a class="headerlink" href="#count-to-infinity-problem-link-cost-increase-in-dv-routing" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Let‚Äôs consider the same example but this time, the cost of edge <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">-</span> <span class="pre">y</span></code> increase from <code class="docutils literal notranslate"><span class="pre">4</span></code> to <code class="docutils literal notranslate"><span class="pre">60</span></code>, then,</p>
<p>Recall initially we have,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Dx</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">Dy</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">Dz</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>Then,</p>
<ul class="simple">
<li><p>Update <code class="docutils literal notranslate"><span class="pre">Dx</span> <span class="pre">=</span> <span class="pre">[0,</span> <span class="pre">min{60,</span> <span class="pre">51},</span> <span class="pre">min{61,</span> <span class="pre">50}]</span> <span class="pre">=</span> <span class="pre">[0,</span> <span class="pre">51,</span> <span class="pre">50]</span></code></p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">Dy</span> <span class="pre">=</span> <span class="pre">[min{60,</span> <span class="pre">6},</span> <span class="pre">0,</span> <span class="pre">min{65,</span> <span class="pre">1}]</span> <span class="pre">=</span> <span class="pre">[6,</span> <span class="pre">0,</span> <span class="pre">1]</span></code></p></li>
<li><p>Send new <code class="docutils literal notranslate"><span class="pre">Dx</span></code> and <code class="docutils literal notranslate"><span class="pre">Dy</span></code> to neighbors</p></li>
<li><p>When node <code class="docutils literal notranslate"><span class="pre">z</span></code> gets the update of <code class="docutils literal notranslate"><span class="pre">Dx</span></code> and <code class="docutils literal notranslate"><span class="pre">Dy</span></code>, it will update <code class="docutils literal notranslate"><span class="pre">Dz</span></code> as <code class="docutils literal notranslate"><span class="pre">Dz</span> <span class="pre">=</span> <span class="pre">[min{50,</span> <span class="pre">7},</span> <span class="pre">min{1,</span> <span class="pre">101},</span> <span class="pre">0]</span> <span class="pre">=</span> <span class="pre">[7,</span> <span class="pre">1,</span> <span class="pre">0]</span></code>. After this, <code class="docutils literal notranslate"><span class="pre">Dz</span></code> will be sent to node <code class="docutils literal notranslate"><span class="pre">x</span></code>and <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p></li>
<li><p><strong>Bouncing stage</strong>: node <code class="docutils literal notranslate"><span class="pre">y</span></code> and node <code class="docutils literal notranslate"><span class="pre">z</span></code> will keep updating each other until <code class="docutils literal notranslate"><span class="pre">Dy</span> <span class="pre">=</span> <span class="pre">[51,</span> <span class="pre">0,</span> <span class="pre">1]</span></code> and <code class="docutils literal notranslate"><span class="pre">Dz</span> <span class="pre">=</span> <span class="pre">[50,</span> <span class="pre">1,</span> <span class="pre">0]</span></code></p></li>
</ul>
<p>Let‚Äôs talking about the bouncing stage. In this stage, node <code class="docutils literal notranslate"><span class="pre">y</span></code> thinks the shortest route from <code class="docutils literal notranslate"><span class="pre">y</span></code> to <code class="docutils literal notranslate"><span class="pre">x</span></code> is,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">-&gt;</span> <span class="n">z</span> <span class="o">-&gt;</span> <span class="n">x</span>
</pre></div>
</div>
<p>While node <code class="docutils literal notranslate"><span class="pre">z</span></code> thinks the shortest route from <code class="docutils literal notranslate"><span class="pre">z</span></code> to <code class="docutils literal notranslate"><span class="pre">x</span></code> is,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">-&gt;</span> <span class="n">y</span> <span class="o">-&gt;</span> <span class="n">x</span>
</pre></div>
</div>
<p>So a packet sent from <code class="docutils literal notranslate"><span class="pre">y</span></code> or <code class="docutils literal notranslate"><span class="pre">z</span></code> to <code class="docutils literal notranslate"><span class="pre">x</span></code> will not reach the destionation because there‚Äôs a loop in the route and the packet keeps bouncing between <code class="docutils literal notranslate"><span class="pre">y</span></code> and <code class="docutils literal notranslate"><span class="pre">z</span></code>. Therefore, we can expect a delay of packets because,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">&lt;-&gt;</span> <span class="n">y</span>
</pre></div>
</div>
<p>So how long is the delay? While for <code class="docutils literal notranslate"><span class="pre">Dy</span> <span class="pre">=</span> <span class="pre">[6,</span> <span class="pre">0,</span> <span class="pre">1]</span></code> to <code class="docutils literal notranslate"><span class="pre">Dy</span> <span class="pre">=</span> <span class="pre">[51,</span> <span class="pre">0,</span> <span class="pre">1]</span></code>, it takes <code class="docutils literal notranslate"><span class="pre">45</span></code> iterations and for <code class="docutils literal notranslate"><span class="pre">Dz</span> <span class="pre">=</span> <span class="pre">[5,</span> <span class="pre">1,</span> <span class="pre">0]</span></code> to <code class="docutils literal notranslate"><span class="pre">Dz</span> <span class="pre">=</span> <span class="pre">[50,</span> <span class="pre">1,</span> <span class="pre">0]</span></code>, it also takes <code class="docutils literal notranslate"><span class="pre">45</span></code> iterations.</p>
<p>This is called the <strong>count-to-infinity</strong> problem.</p>
</section>
<section id="poison-reverse">
<h3>(7) Poison Reverse<a class="headerlink" href="#poison-reverse" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Let‚Äôs now see how we can solve the count-to-infinity problem. Suppose we are at the bouncing stage and there‚Äôs a packet sent from node <code class="docutils literal notranslate"><span class="pre">y</span></code> to node <code class="docutils literal notranslate"><span class="pre">x</span></code> through node <code class="docutils literal notranslate"><span class="pre">z</span></code> because it thinks the shortest path is,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">-&gt;</span> <span class="n">z</span> <span class="o">-&gt;</span> <span class="n">x</span>
</pre></div>
</div>
<p>When this packet arrives at <code class="docutils literal notranslate"><span class="pre">z</span></code>, the node <code class="docutils literal notranslate"><span class="pre">z</span></code> knows the following information,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span><span class="p">:</span> <span class="n">y</span>
<span class="n">destination</span><span class="p">:</span> <span class="n">x</span>
<span class="n">least</span> <span class="n">cost</span> <span class="n">path</span><span class="p">:</span> <span class="n">z</span> <span class="o">-&gt;</span> <span class="n">y</span> <span class="o">-&gt;</span> <span class="n">x</span>
</pre></div>
</div>
<p>So now node <code class="docutils literal notranslate"><span class="pre">z</span></code> will notice that this packet came from <code class="docutils literal notranslate"><span class="pre">y</span></code> and the least cost path of it to <code class="docutils literal notranslate"><span class="pre">x</span></code> goes through <code class="docutils literal notranslate"><span class="pre">y</span></code>. This means if <code class="docutils literal notranslate"><span class="pre">z</span></code> follows the path, it will never get the packet delievered to <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
<p>Therefore, while forwarding the packet back to <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">z</span></code> also advertises <code class="docutils literal notranslate"><span class="pre">y</span></code> a lie that <code class="docutils literal notranslate"><span class="pre">Dz[x]</span> <span class="pre">=</span> <span class="pre">inf</span></code> even through <code class="docutils literal notranslate"><span class="pre">z</span></code> knows that <code class="docutils literal notranslate"><span class="pre">Dz[x]</span> <span class="pre">=</span> <span class="pre">5</span></code>. Since it tells this lie to <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code> acknowledges that <code class="docutils literal notranslate"><span class="pre">z</span></code> has no path to <code class="docutils literal notranslate"><span class="pre">x</span></code> expect via <code class="docutils literal notranslate"><span class="pre">y</span></code>. So it will never send packets to <code class="docutils literal notranslate"><span class="pre">x</span></code> via <code class="docutils literal notranslate"><span class="pre">z</span></code>. And we call it the node <code class="docutils literal notranslate"><span class="pre">z</span></code> <strong>poisons</strong> the path from <code class="docutils literal notranslate"><span class="pre">z</span></code> to <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
<p>This technique will solve the problem with 2 nodes, however poisoned reverse will not solve a general count to infinity problem involving 3 or more nodes that are not directly connected.</p>
</section>
</section>
<section id="routing-algorithm-applications">
<h2>3. Routing Algorithm Applications<a class="headerlink" href="#routing-algorithm-applications" title="Permalink to this heading">ÔÉÅ</a></h2>
<section id="dv-routing-application-router-information-protocol-rip">
<h3>(1) DV Routing Application: Router Information Protocol (RIP)<a class="headerlink" href="#dv-routing-application-router-information-protocol-rip" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>RIP is a routing protocol based on the distance vector protocol. The first version of it is released as a part of the BSD version of UNIX and it uses hop count as a metric.</p>
<p>As distance verctor shows, the messages are exchanged between router neighbors periodically using a RIP response called <strong>RIP advertisements</strong>. It contain the information about the sender distance to destination subnets as follows,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nextRouter</span>       <span class="n">distSubnet</span>       <span class="n">numOfHops</span>
<span class="n">A</span>                <span class="n">w</span>                <span class="mi">2</span>
<span class="n">B</span>                <span class="n">y</span>                <span class="mi">2</span>
<span class="n">B</span>                <span class="n">z</span>                <span class="mi">7</span>
</pre></div>
</div>
<p>For a node <code class="docutils literal notranslate"><span class="pre">C</span></code> with the topology,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span> <span class="o">---</span><span class="mi">2</span><span class="o">---&gt;</span> <span class="n">A</span> <span class="o">---&gt;</span> <span class="n">w</span>
<span class="o">|</span>
<span class="o">+</span> <span class="o">---</span><span class="mi">2</span><span class="o">---&gt;</span> <span class="n">B</span> <span class="o">---</span> <span class="mi">5</span> <span class="o">----&gt;</span> <span class="n">D</span> <span class="o">---&gt;</span> <span class="n">z</span>
           <span class="o">|</span>
           <span class="o">+</span> <span class="o">---&gt;</span> <span class="n">y</span>
</pre></div>
</div>
</section>
<section id="link-state-routing-application-open-shortest-path-first-ospf">
<h3>(2) Link-State Routing Application: Open Shortest Path First (OSPF)<a class="headerlink" href="#link-state-routing-application-open-shortest-path-first-ospf" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>OSPF is introduced as an advanced of the RIP Protocol, operating in upper-tier ISPs because the link-state protocol requires a full map of topology. Here‚Äôs a briefing of the OSPF protocol.</p>
<ul class="simple">
<li><p>Areas: an OSPF autonomous system (aka. AS, meaning a large network with single routing protocol) can be configured to areas where its own OSPF is operaing</p></li>
<li><p>Border routers: one or more border routers are responsible for routing packets outside the area</p></li>
<li><p>Backbone area: exactly one OSPF area in the AS is configured to be the backbone area. It always contains all area border routers in the AS and it is responsible to route traffic between the other areas.</p></li>
<li><p>Link State Advertisements (LSA): Every router within a domain uses LSAs. It is used for building a database called Link State Database containing all the link states. LSAs are typically flooded to every router in the domain and this helps form a consistent network topology view.</p></li>
<li><p>LSA refresh rate: OSPF has a default 30-minute refresh rate. If a link states changed before this period is reached, the neighbor routers connected will ensure the LSA flooding.</p></li>
</ul>
<p>Next, let‚Äôs see how a router process an OSPF message.</p>
<ul class="simple">
<li><p>Trigger: the LS-update packet which contain LSAs reach the current router‚Äôs OSPF</p></li>
<li><p>Database update: a consistent view of the topology is being formed and this information is stored in the link-state database on the router</p></li>
<li><p>SPF: Using the information from the database, the current router calculates the shortest path using shortest path first (SPF) algorithm. The result of this step is fed to the** Forwarding Information Base (FIB)**</p></li>
<li><p>Forwarding: when a data packet arrives at an interface card of the current router, the next hop for the packet is decided based on the FIB of the last step</p></li>
</ul>
</section>
<section id="hot-potato-routing">
<h3>(3) Hot Potato Routing<a class="headerlink" href="#hot-potato-routing" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>Compared to RIP and OSPF, there‚Äôs another routing protocol considering the routing speed over finding the most efficient (shortest) path. This is called the <strong>hot potato routing</strong>.</p>
<p>Hot potato routing is a technique of choosing a path within the network by choosing the <strong>closest</strong> egress point based on intradomain path cost (aka. Interior Gateway Protocol (IGP) cost) even if the overall path is not optimized.</p>
<p>Hot potato routing is commonly used for applications that cares more about speed or in a relatively simple network. For example,</p>
<ul class="simple">
<li><p>real-time communication</p></li>
<li><p>high-frequency trading</p></li>
<li><p>CDNs</p></li>
<li><p>cloud computing</p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="note3.html" class="btn btn-neutral float-left" title="Computer Network 3 | Spanning Tree Protocol Implementation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="note5.html" class="btn btn-neutral float-right" title="Computer Network 5 | Distance Vector Implementation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Yufeng Xing.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>